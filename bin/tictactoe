#!/usr/bin/env ruby

require_relative '../config/environment'

puts "Welcome to Tic Tac Toe!"
puts "How many players are playing this time? 0, 1, or 2?"
num_players = gets.strip.to_i

case num_players
when 0
  game = Game.new(Players::Computer.new("X"), Players::Computer.new("O"))
when 1
  puts "Do you want to be player X and start the match? Y/N"
  input = gets.strip
  if input == "Y"
    game = Game.new(Players::Human.new("X"), Players::Computer.new("O"))
  elsif input == "N"
    game = Game.new(Players::Computer.new("X"), Players::Human.new("O"))
  end
when 2
  game = Game.new
end

play_again = true
until play_again
  game.play
  puts "Want to play again? Y/N"
  input = gets.strip

  if input == "Y"
    game = self.new
    game.play
  elsif input == "N"
    puts "Alrighty then, see you next time!"
    exit
  end
end
